<p-toast></p-toast>
<p-confirmDialog></p-confirmDialog>

<div class="toolbar">
  <button pButton label="Novo Usuário" class="p-button-success" (click)="novo()"></button>
</div>

<p-table [value]="usuarios" [paginator]="true" [rows]="10" [loading]="carregando">
  <ng-template pTemplate="header">
    <tr>
      <th>Nome Completo</th>
      <th>Email</th>
      <th>Perfil</th>
      <th>Status</th>
      <th style="width: 250px;">Ações</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-u>
    <tr>
      <td>{{ u.nomeCompleto }}</td>
      <td>{{ u.email }}</td>
      <td>
        <p-tag [severity]="u.perfil === 'ADMIN' ? 'info' : 'secondary'" [value]="u.perfil"></p-tag>
      </td>
      <td>
        <p-tag [severity]="u.ativo ? 'success' : 'danger'" [value]="u.ativo ? 'Ativo' : 'Inativo'"></p-tag>
      </td>
      <td>
        <button pButton [label]="u.ativo ? 'Inativar' : 'Ativar'" [severity]="u.ativo ? 'warning' : 'success'" (click)="confirmarAlternarStatus(u)"></button>
        <button pButton label="Editar" (click)="editar(u.id)"></button>
        <button pButton label="Excluir" class="p-button-danger" (click)="confirmarExclusao(u)"></button>
      </td>
    </tr>
  </ng-template>
  <ng-template pTemplate="emptymessage">
    <tr>
      <td colspan="5">Nenhum usuário encontrado.</td>
    </tr>
  </ng-template>
</p-table>

<div class="summary">
  Total: {{ usuarios.length }}
</div>